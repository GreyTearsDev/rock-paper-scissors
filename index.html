<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" display="width=device-width, initial-scale 1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <div class="sections">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>

    <div class="rounds-left"></div>
    <div class="round-winner"></div>
    <div class="game-winner"></div>
    <div class="score"></div>


    <script>
      const rock = document.getElementById('rock');
      const paper = document.getElementById('paper');
      const scissors = document.getElementById('scissors');
      const choices = ['rock', 'paper', 'scissors'];
      let roundCounter = 5;
      let roundsLeft = document.querySelector('.rounds-left');
      let roundWinnerMessage = document.querySelector('.round-winner');
      let gameWinnerMessage = document.querySelector('.game-winner');
      let scoreBoard = document.querySelector('.score');

      function playTheGame() {
        rock.addEventListener('click', () => playRound(rock.textContent));
        paper.addEventListener('click', () => playRound(paper.textContent));
        scissors.addEventListener('click', () => playRound(scissors.textContent));
      }
      
      function playRound (clickedButton) {
        // Checks for the winner 
        let playerSelection = choices.indexOf(clickedButton.toLowerCase());
        let computerSelection = choices.indexOf(getComputerChoice());
        console.log(playerSelection);
        console.log(computerSelection);


        if ((playerSelection > computerSelection) 
          || (playerSelection == 0 && computerSelection == 2)) {
            if (!(playerSelection == 2 && computerSelection == 0)){
            return console.log('You win.');
            }
        } else if (playerSelection == computerSelection) {
          return console.log('It\'s a draw.');
        } else console.log('You lose.');

        //if ((playerSelection == choices[0] && computerSelection == choices[1])
        //  || (playerSelection == choices[1] && computerSelection == choices[2])
        //  || (playerSelection == choices[2] && computerSelection == choices[0])) {
        //  resultOfRound = 'You lose';
        //} else if (playerSelection == computerSelectionLowerCased) {
        //  resultOfRound = 'It\'s a draw';
        //} else {
        //  resultOfRound = 'You win';
        //}
      }

      
      function getComputerChoice() {
        //Gets a random option from the 'choices' array
        const randomChoice = Math.floor(Math.random() * choices.length);
        return choices[randomChoice];
      }
      
      console.log(playTheGame());

    </script>
  </body>
</html>