<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" display="width=device-width, initial-scale 1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <div class="sections">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>

    <div class="rounds-left"></div>
    <div class="round-score"></div>
    <div class="game-winner"></div>
    <div class="final-score"></div>


    <script>
      const rock = document.getElementById('rock');
      const paper = document.getElementById('paper');
      const scissors = document.getElementById('scissors');
      const choices = ['rock', 'paper', 'scissors'];
      let roundCounter = 5;
      let roundsLeft = document.querySelector('.rounds-left');
      let roundScore = document.querySelector('.round-score');
      let gameWinner = document.querySelector('.game-winner');
      let finalScore = document.querySelector('.final-score');

      function playTheGame() {
        //Plays the game
        rock.addEventListener('click', () => playRound(rock.textContent));
        paper.addEventListener('click', () => playRound(paper.textContent));
        scissors.addEventListener('click', () => playRound(scissors.textContent));
      }

      function getComputerChoice() {
        //Gets a random option from the 'choices' array
        const randomChoice = Math.floor(Math.random() * choices.length);
        return choices[randomChoice];
      }

      function playRound (clickedButton) {
        // Checks for the winner 
        let playerSelection = choices.indexOf(clickedButton.toLowerCase());
        let computerSelection = choices.indexOf(getComputerChoice());
        let result;

        if ((playerSelection > computerSelection) 
          || (playerSelection == 0 && computerSelection == 2)) {
            if (!(playerSelection == 2 && computerSelection == 0)){
            result = 'You win.';
            }
        } else if (playerSelection == computerSelection) {
          result = 'It\'s a draw.';
        } else result = 'You lose.';

        displayRoundScore(result);
      }

      //variables to be incremented in the 'displayRoundScore' function
      let scorePlayer = 0;
      let scoreComputer = 0;
      //variable to count down with the number of rounds

      function displayRoundScore(result) {
        //Displays on the browser the winner of the last round
        console.log(result);
        if (result == 'You win.') {
          ++scorePlayer;
        } else if (result == 'You lose.') {
          ++scoreComputer;
        }
        roundScore.textContent = `You: ${scorePlayer} || Computer: ${scoreComputer}`

      }

      function checkGameStatus() {
        //Checks if the games must end
      }

      function displayFinalScore() {
        //Displays on the browser the winner of the game
      }
      
      playTheGame();
    </script>
  </body>
</html>