<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" display="width=device-width, initial-scale 1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
      const choices = ['rock', 'paper', 'scissors'];

      function getComputerChoice() {
        const randomChoice = Math.floor(Math.random() * choices.length);
        return choices[randomChoice];

      }

      /* Check for the winner */
      function playRound (playerSelection, computerSelection) {
        
        if (playerSelection === 'rock' && computerSelection === 'paper') {
          return 'You lose';

        } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
          return 'You lose! Scissors beats Paper';

        } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
          return 'You lose! Rock beats Scissors';

        } else if (playerSelection === computerSelection) {
          return (`It\'s a draw! Both you and the computer chose ${playerSelection.charAt(0).toUpperCase()}${playerSelection.slice(1)}.`);

        } else {return `You win! ${playerSelection.charAt(0).toUpperCase()}${playerSelection.slice(1)} beats ${computerSelection.charAt(0).toUpperCase()}${computerSelection.slice(1)}`;

        }
      }


      function game() {
        let playerScore = 0;
        let computerScore = 0;

        for (let i = 0; i < 5; i++) {
          let playerSelection = prompt('Choose one. Rock, Paper or Scissors?').toLowerCase();
          let playerReading = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1);
          let computerSelection = getComputerChoice();
          let computeReading = computerSelection.charAt(0).toUpperCase() + computerSelection.slice(1);
          resultOfRound = playRound(playerSelection, computerSelection);

          switch (resultOfRound) {
            case 'You win':
              console.log(`You win! ${playerReading} beats ${computerReading}`);
              playerScore++;
              break;
            case 'You lose':
              console.log(`You lose! ${computeReading} beats ${playerReading}`);
              computerScore++;
              break;
            case 'It\'s a draw':
              console.log(`It\'s a draw! Both you and the computer chose ${playerReading}.`)
            default:
              break;
          }
        }


        return finalScore;
      }

      game();




      /* Check if the user entry is valid*/
      (choices.includes(playerSelection)) ? playRound() : console.log('Wrong entry. Please, check your spelling and try again.');
      


    </script>
  </body>
</html>